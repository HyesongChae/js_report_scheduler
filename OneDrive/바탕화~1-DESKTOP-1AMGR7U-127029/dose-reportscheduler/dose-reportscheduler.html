<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <style>
        * {
            list-style-type: none;
        }
        body {
            margin: 0;
            padding: 0;
        }

        .container {
            background-color: #E7EFFC;
            padding: 29px;
        }
        .container input {
            height: 11px;
        }
        .line {
            width: 100px;
            height: 524px;
            position: absolute;
            left: 38px;
            top: 47px;
            z-index: 2;
            border-left: 1.5px solid #BCC6CF;
        }
        .item {
            position: relative;
            z-index: 3;
        }
        .item-num {
            display: inline-block;
            background-color: #3982C8;
            width: 20px;
            height: 20px;
            text-align: center;
            border-radius: 50%;
            color: white;
            line-height: 1.2em;
        }
        .item > div {
            margin-left: 30px;
        }
        .clicked-item {
            height: 175px;
        }

        .context-container {
            border: 1.3px solid #b5bbc0; 
            border-radius: 2px;
        }
        .context-title{
            padding: 4px 13px;
            border-bottom: 1px solid #b5bbc0;
            font-size: 14px;
        }
        .context{
            font-size: 12.5px;
            padding: 4px 8px;
        }
        .context p {
            margin: 0px;
            margin-bottom: 4.5px;
        }
        .context li {
            padding-bottom: 4px;
            box-sizing: border-box;
        }
        .button-container {
            padding: 7px 0px;
            border-top: 1.3px solid #b5bbc0;
            margin-top: 10px;
        }
        .button {
            width: 73px;
            height: 27px;
            background-color: #CCDCF3;
            border: 1px solid #b5bbc0;
            border-radius: 5.8%;
            color: #3b4755;
        }

        /* slide anination */        
        .show{
            animation: ani-open-slide 1s forwards;
            animation-fill-mode: forwards;
        }
        .hide{
            animation: ani-close-slide 1s forwards;
            animation-fill-mode: forwards;
        }

        @keyframes ani-close-slide {
            from {
                height: 210px;
            }
            to {
                height: 0px;
                overflow: hidden;
            }
        }
        @keyframes ani-open-slide {
            from {
                height: 0px;
                overflow: hidden;
            }
            to {
                height: 210px;
                overflow: visible;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="line"></div>
        <div class="item">
            <label>
                <p class="item-num">0</p>
                <span>Set Type of Recurrence</span>
                <span id="recurrence_type"></span>
            </label>
            <div class="show">
                <div class="context-container">
                    <div class="context-title">
                        What kind of repeat event do you want to use?
                    </div>
                    <ul class="context">
                        <li><input type="radio" name="recurrence_type" value="Yearly" checked/><span>Yearly</span></li>
                        <li><input type="radio" name="recurrence_type" value="Monthly"/><span>Monthly</span></li>
                        <li><input type="radio" name="recurrence_type" value="Weekly"/><span>Weekly</span></li>
                        <li><input type="radio" name="recurrence_type" value="Daily"/><span>Daily</span></li>
                    </ul>   
                </div>
                <div class="button-container">
                    <button class="button btn-next" data-btn="use_prevSchedule">Next</button>
                    <button class="button btn-cancel">Cancel</button>
                </div>   
            </div> 
        </div>
        <div class="item">
            <label>
                <p class="item-num">1</p>
                <span>Use a Previous Schedule</span>
                <span id="use_prevSchedule"></span>
            </label>
            <div class="hide">
                <div class="context-container">
                    <div class="context-title">
                        Will you reuse the old schedule?
                    </div>    
                    <ul class="context">
                        <li>
                            <input type="radio" name="use_prevSchedule" value='N' checked/>
                            <span>No, I'm going to create a now schedule</span>
                        </li>
                        <li>
                            <input type="radio" name="use_prevSchedule" value='Y'/>
                            <span>Yearly - Monitoring - Study - Group of Chest Study (CT)</span>
                        </li>
                    </ul>  
                </div>
                <div class="button-container">
                    <button class="button btn-next" data-btn="recurrence_frequency">Next</button>
                    <button class="button btn-prev" data-btn="recurrence_type">Previous</button>
                </div>   
            </div> 
        </div>
        <div class="item">
            <label>
                <p class="item-num">2</p>
                <span>Set Recurrence Frequency</span>
                <span id="recurrence_frequency"></span>
            </label>
            <div class="hide">
                <div class="context-container">
                    <div class="context-title">
                        Regarding Repeat Count
                    </div>  
                    <div class="context">
                        <p>When will you start receiving it? (*Required)</p>
                        <p>From This Date</p>
                        <p>
                            Date: <input type="text" id="freq_date" class="datepicker" style="width:81px;">
                        </p>
                        <p>How often will it repeat? (*Required)</p>
                        <p>Every <input type="text" id="freq_year" style="width:35px;"/> Year(s)</p>
                    </div> 
                </div>
                <div class="button-container">
                    <button class="button btn-next" data-btn="repetition_timing">Next</button>
                    <button class="button btn-prev" data-btn="use_prevSchedule">Previous</button>
                </div>   
            </div> 
        </div>
        <div class="item">
            <label>
                <p class="item-num">3</p>
                <span>Set Repetition Timing</span>
                <span id="repetition_timing"></span>
            </label>
            <div class="hide">
                <div class="context-container">
                    <div class="context-title">
                        When will it repeat?
                    </div>  
                    <div class="context">
                        <p>When do you hope to receive this report? (*Required)</p>
                        <p>From This Date (<strong>Month(s) - day(s)</strong>)</p>
                        <p>
                            <select id="rpt_month">
                                <option value="1">Jan</option>
                            </select>
                            <span> / </span> 
                            <input type="text" id="rpt_day" style="width:30px;"/>
                        </p>
                    </div>  
                </div>
                <div class="button-container">
                    <button class="button btn-next" data-btn="end_date">Next</button>
                    <button class="button btn-prev" data-btn="recurrence_frequency">Previous</button>
                </div>   
            </div> 
        </div>
        <div class="item">
            <label>
                <p class="item-num">4</p>
                <span>Set an end date</span>
                <span id="end_date"></span>
            </label>
            <div class="hide">
                <div class="context-container">
                    <div class="context-title">
                        When can we stop this repetition?
                    </div>   
                    <ul class="context">
                        <li>
                            <input type="radio" name="end_date" value="never" checked/>
                            <span>Never</span>
                        </li>
                        <li>
                            <input type="radio" name="end_date" value="until"/>
                            <span>Until</span>
                            <input type="text" style="width:30px;"/>
                            <span>time(s)</span>
                        </li>
                        <li>
                            <input type="radio" name="end_date" value="on"/>
                            <span>On</span>
                            <input type="text" id="datepicker" style="width:81px;">
                        </li>
                    </ul> 
                </div>
                <div class="button-container">
                    <button class="button btn-next" data-btn="search_period">Next</button>
                    <button class="button btn-prev" data-btn="repetition_timing">Previous</button>
                </div>   
            </div> 
        </div>
        <div class="item">
            <label>
                <p class="item-num">5</p>
                <span>Set Data Search Period</span>
                <span id="search_period"></span>
            </label>
            <div class="hide">
                <div class="context-container">
                    <div class="context-title">
                        How long of the a data period should we include in this report?
                    </div>   
                    <ul class="context">
                        <li>
                            <input type="radio" name="search_period" value="last_year" checked/>
                            <span>Last Year</span>
                        </li>
                        <li>
                            <input type="radio" name="search_period" value="this_year"/>
                            <span>This Year</span>
                        </li>
                        <li>
                            <input type="radio" name="search_period" value="last_month"/>
                            <span>Last</span>
                            <input type="text" style="width:30px;"/>
                            <select>
                                <option>Jan</option>
                            </select>
                        </li>
                    </ul> 
                </div>
                <div class="button-container">
                    <button class="button btn-next" data-btn="search_period">Next</button>
                    <button class="button btn-prev" data-btn="end_date">Previous</button>
                </div>   
            </div> 
        </div>
        <div class="item">
            <label>
                <p class="item-num">6</p>
                <span>Other Key Settings</span>
            </label>
            <div class="hide">
                <div class="context-container">
                    <div class="context-title">
                        What is the purpose of this schedule? (Used for schedule reuse)
                    </div>   
                    <table class="context">
                        <tr>
                            <td>Title (*Required)</td>
                            <td><input type="text" id="title"/></td>
                        </tr>
                        <tr>
                            <td>Description</td>
                            <td><input type="text" id="desc"/></td>
                        </tr>
                    </table> 
                </div>
                <div class="button-container">
                    <button class="button btn-next">Next</button>
                    <button class="button btn-prev" data-btn="search_period">Previous</button>
                </div>   
            </div> 
        </div>
    </div>    
</body>
</html>

<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
<link rel="stylesheet" href="/resources/demos/style.css">
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
<script>
    var info_reportScheduler = {
        recurrence_type : null,
        use_prevSchedule : 'N',
        recurrence_frequency : {
            freq_date : null,
            freq_year : null
        },
        repetition_timing : {
            rpt_month : null,
            rpt_day : null
        },
        end_date : null,
        search_period : null,
        others : {
            title : null,
            description : null
        }
    };

    $(".btn-next").on("click", function(){
        var conf_btn = $(this).data('btn');
        switch(conf_btn) {
            case 'recurrence_type' : 
                info_reportScheduler.recurrence_type = $('input[name=recurrence_type]').val();
                break;
            case 'use_prevSchedule' : 
                info_reportScheduler.use_prevSchedule = $('input[name=use_prevSchedule]').val();
                break;
            case 'recurrence_frequency' : 
                info_reportScheduler.recurrence_frequency = {
                    freq_date : $("#freq_date").val(),
                    freq_year : $("#freq_year").val()
                }
                break;
            case 'repetition_timing' : 
                info_reportScheduler.repetition_timing = {
                    rpt_month : $("#rpt_month").val(),
                    rpt_day : $("#rpt_day").val()
                }
                break;
            case 'end_date' : 
                info_reportScheduler.end_date = $('input[name=end_date]').val();
                break;
            case 'search_period' : 
                info_reportScheduler.search_period = $('input[name=search_period]').val();
                break;
            default :
                //others
                info_reportScheduler.others = {
                    title : $("#title").val(),
                    description : $("#desc").val()
                }
                break;
        }

        var show_item = $(this).parents('.item').next().children('.hide');
        var show_item_height = show_item.height();

        $(this).parents('.item').children('label').children('.item-num').css('background-color', '#36A23D');
        $('.item .show').removeClass('show').addClass('hide');
        show_item.removeClass('hide').addClass('show');

        $("#" + conf_btn).text('( aaa )')

    });
    $(".btn-prev").on("click", function(){
        var show_item = $(this).parents('.item').prev().children('.hide');
        var show_item_height = show_item.height();

        $(this).parents('.item').children('label').children('.item-num').css('background-color', '#3982C8');
        $('.item .show').removeClass('show').addClass('hide');
        show_item.removeClass('hide').addClass('show');
    });

    $( ".datepicker").datepicker();
</script>